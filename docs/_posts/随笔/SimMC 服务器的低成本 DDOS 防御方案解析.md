---
title: SimMC 服务器的低成本 DDOS 防御方案解析
date: 2026-01-26 20:11:30
permalink: /pages/617bb4/
sidebar: auto
categories:
  - 随笔
tags:
  - 分享
author: 
  name: PuddingKC
  link: https://github.com/Null-K
---

## 前言

最近在 B 站经常刷到 [SimMC](https://space.bilibili.com/3546817622968757) 这个服务器，于是我也跑去体验了一下。  
玩的时候发现它的网络防御方案挺有意思的，就想着写一篇记录下来，顺便分享给有同样需求的服主。

常见的防御方式（如 [HAProxy](https://www.haproxy.org/) 代理）基本都需要同时满足**高带宽**和**高防御**两个条件。但在国内，能同时提供大带宽和高强度 DDOS 防护的服务器，价格往往让小型服主望而却步。

SimMC 用了一个**非常低成本**的解决方案：最低每月只需约 4 美元，就能实现基本的“对外伪装 + 后端隐藏”。  
虽然不是万能，但对预算有限的小型/中型服务器来说，性价比极高。下面就来拆解一下它的思路。

## 初次进入服务器

把地址输入多人游戏界面后，第一感觉就是延迟奇高。  
我立刻猜想：大概是用了海外节点做防御。  
正式进入游戏时，屏幕跳出提示：**“Transferred to another server”**。  
当时脑子里就出现了一个可能的防御思路，后来实际验证，果然就是这个方案。

## Transfer 指令简介

Minecraft 从 1.20.5 开始正式引入了 [`transfer`](https://zh.minecraft.wiki/w/%E5%91%BD%E4%BB%A4/transfer?variant=zh-tw) 机制。  
服务器可以向客户端发送一个转移数据包，告诉客户端“去连另一个服务器吧”。客户端会自动断开当前连接并重新连接到新地址，整个过程对玩家几乎无感，不需要像老的 BungeeCord/Velocity 那样全程代理所有流量。

这让很多服务器可以用很低的成本实现“前端伪装 + 后端真实服务器”的分离方案。

## 防御思路解析

这种防御方式成本极低，最低配置每月只需约 4 美元。

SimMC 的做法是：
- 对外暴露的 IP 地址使用的是 [OVHcloud](https://www.ovhcloud.com/en/) 的一个高防御海外节点。
- 玩家在添加服务器或 ping 时，看到的都是这个海外 IP，延迟自然会显得很高。
- 真正进入游戏时，服务器利用 `transfer` 指令，将玩家无缝转发到位于国内的实际游戏服务器。

这样就实现了**简单高效的防御**，既便宜又实用。

## 缺点

实际游戏服务器的真实 IP 地址很容易通过**网络分析**或者**流量监控**软件找到。  
只要玩家正常登录一次，流量监控软件就能看到后续游戏数据包的目标 IP，从而绕过表面的海外中转节点。

因此，它只能有效防御非常初步的攻击或脚本小子，对有一定技术能力的攻击者来说，基本形同虚设。